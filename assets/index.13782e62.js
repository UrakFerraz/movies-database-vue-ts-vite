import{d,c as l,a as u,b as r,e as h,u as A,F as I,f as M,g as N,r as k,o as n,t as m,h as L,i as f,w as y,S as K,j as $,p as b,k as x,l as P,m as V,n as F,q as O,s as H,v as W,x as j}from"./vendor.6a8c8090.js";const q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const _ of i.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}};q();var p=(e,t)=>{const a=e.__vccOpts||e;for(const[o,s]of t)a[o]=s;return a};const z={class:"content"},J=d({setup(e){const t=M(),a=N();return console.log(t),console.log(a),(o,s)=>{const i=k("router-view");return n(),l(I,null,[u(i,{name:"header"}),r("div",z,[(n(),h(i,{key:A(t).path}))]),u(i,{name:"footer"})],64)}}});var Q=p(J,[["__scopeId","data-v-9d13df36"]]);const X={class:"cast-list-item"},Z={class:"cast-list-img"},ee=["src"],te=["href"],ae=d({props:{cast:null},setup(e){const t=e;return console.log(t),(a,o)=>(n(),l("li",X,[r("div",Z,[r("img",{src:"https://image.tmdb.org/t/p/w200"+t.cast.profile_path,alt:""},null,8,ee)]),r("a",{class:"cast-name average-rgb--border",href:"https://api.themoviedb.org/3/person/"+t.cast.cast_id+"/movie_credits?api_key=a152faf46b825f190ee05ae333705f56&language=en-US"},m(t.cast.name),9,te),r("span",null,m(t.cast.character),1)]))}});var oe=p(ae,[["__scopeId","data-v-21fb0da8"]]);const se=d({props:{cast:null},setup(e){const t=e;return console.log(t),(a,o)=>(n(),l("ul",null,[(n(!0),l(I,null,L(t.cast,s=>(n(),h(oe,{key:Number(s.id),cast:s},null,8,["cast"]))),128))]))}});class S{constructor(){this._apiURL="https://api.themoviedb.org/3",this._API_KEY="a152faf46b825f190ee05ae333705f56",this._defaultLanguage="language=pt-BR",this.fetchData=async t=>{const o=await(await fetch(t)).json();return console.log(t),console.log(o),o}}get apiURL(){return this._apiURL}get API_KEY(){return this._API_KEY}get defaultLanguage(){return this._defaultLanguage}get genresListUrl(){return`${this.apiURL}/genre/movie/list?api_key=${this.API_KEY}&${this.defaultLanguage}`}get nowPlayingMoviesUrl(){return`${this.apiURL}/movie/now_playing?api_key=${this.API_KEY}&${this.defaultLanguage}&page=1`}get popularMoviesUrl(){return`${this.apiURL}/movie/popular?api_key=${this.API_KEY}&${this.defaultLanguage}&page=1`}get topRatedMoviesUrl(){return`${this.apiURL}/movie/top_rated?api_key=${this.API_KEY}&${this.defaultLanguage}&page=1`}get upcomingMoviesUrl(){return`${this.apiURL}/movie/upcoming?api_key=${this.API_KEY}&${this.defaultLanguage}&page=1`}getGenreUrl(t,a){return`${this.apiURL}/discover/movie?api_key=${this.API_KEY}&${this.defaultLanguage}&sort_by=popularity.desc&include_adult=false&include_video=false&page=${t}&with_genres=${a}`}}class B extends S{constructor(t){super();this.movieId=t}get movieDetailsUrl(){return`${this.apiURL}/movie/${this.movieId}?api_key=${this.API_KEY}&${this.defaultLanguage}`}get movieCreditsUrl(){return`${this.apiURL}/movie/${this.movieId}/credits?api_key=${this.API_KEY}&${this.defaultLanguage}`}get similarMoviesUrl(){return`${this.apiURL}/movie/${this.movieId}/similar?api_key=${this.API_KEY}&${this.defaultLanguage}`}get movieImagesUrl(){return`${this.apiURL}/movie/${this.movieId}/images?api_key=${this.API_KEY}&${this.defaultLanguage}`}get movieVideosUrl(){return`${this.apiURL}/movie/${this.movieId}/videos?api_key=${this.API_KEY}&${this.defaultLanguage}`}get movieExternalIdsUrl(){return`${this.apiURL}/movie/${this.movieId}/extenal_ids?api_key=${this.API_KEY}`}}const ne=e=>(b("data-v-0a9b9b36"),e=e(),x(),e),re={key:0,class:"cast-wrapper"},ie=ne(()=>r("h2",null,"Cast Principal",-1)),le=P(" Loading... "),ce=d({props:{movieId:null},setup(e){const t=e;let a=new B(Number(t.movieId)),o=f(null),s=f(null);async function i(){o.value=await a.fetchData(a.movieCreditsUrl),await _()}function _(){s.value=c()}function c(){const v=[];return o.value.cast.forEach(w=>{w.profile_path!==null&&v.push(w)}),v.length<=21?v:(console.log(v),v.splice(0,18))}return i(),(v,w)=>A(o)?(n(),l("div",re,[ie,(n(),h(K,null,{fallback:y(()=>[le]),default:y(()=>[u(se,{cast:A(s),class:"cast-list"},null,8,["cast"])]),_:1}))])):$("",!0)}});var _e=p(ce,[["__scopeId","data-v-0a9b9b36"]]);const ue={class:"backdrop-img"},de=["src"],pe=d({props:{backdropPath:null},setup(e){const t=e;return(a,o)=>(n(),l("div",ue,[r("div",null,[r("img",{src:"https://image.tmdb.org/t/p/original"+t.backdropPath,alt:""},null,8,de)])]))}});var ve=p(pe,[["__scopeId","data-v-fa257aa8"]]);const me={class:"movie-card--img"},ge=["src","alt"],he=d({props:{posterPath:null,altText:null},setup(e){const t=e;return(a,o)=>(n(),l("div",me,[r("img",{src:"https://www.themoviedb.org/t/p/w300"+t.posterPath,alt:t.altText},null,8,ge)]))}});var G=p(he,[["__scopeId","data-v-6606b18a"]]);const fe={class:"more-info"},$e=d({props:{movie:null},setup(e){const t=e,a="https://www.imdb.com/title/"+t.movie.imdb_id,o=(t.movie.runtime/60).toFixed(2).split(".").join(":");return(s,i)=>(n(),l("div",fe,[r("h2",null,m(e.movie.tagline),1),r("p",null,m(e.movie.overview),1),r("p",null,"Dura\xE7\xE3o: "+m(A(o))+" horas",1),r("a",{class:"average-rgb--border",target:"_blank",href:a},"Ver no IMDB")]))}});const ye={class:"movie-info"},be={class:"rating average-rgb--bg"},xe={class:"rate"},Ie=d({props:{movie:null},setup(e){return(t,a)=>(n(),l("div",ye,[r("div",be,[r("div",xe,[r("p",null,m(e.movie.vote_average),1)])]),r("span",null,"T\xEDtulo Original: "+m(e.movie.original_title),1),r("h1",null,m(e.movie.title),1),r("p",null,m(new Date(e.movie.release_date).getFullYear()),1)]))}});var we=p(Ie,[["__scopeId","data-v-044132a2"]]);const ke=e=>(b("data-v-718af97a"),e=e(),x(),e),Le={class:"genres"},Pe=ke(()=>r("span",null,"G\xEAneros:",-1)),Ue=d({props:{genres:null},setup(e){const t=e;return(a,o)=>{const s=k("router-link");return n(),l("div",Le,[Pe,r("ul",null,[(n(!0),l(I,null,L(t.genres,(i,_)=>(n(),l("li",{key:_},[u(s,{to:`/${i.id}/${1}`,class:"average-rgb--border"},{default:y(()=>[P(m(i.name),1)]),_:2},1032,["to"])]))),128))])])}}});var Ee=p(Ue,[["__scopeId","data-v-718af97a"]]);const Ae={class:"movie-card"},De={class:"movie-card--content"},Re=d({props:{movie:null},setup(e){return(t,a)=>(n(),l("div",Ae,[u(G,{"poster-path":e.movie.poster_path,"alt-text":e.movie.original_title},null,8,["poster-path","alt-text"]),r("div",De,[u(we,{movie:e.movie},null,8,["movie"]),u($e,{movie:e.movie},null,8,["movie"]),u(Ee,{genres:e.movie.genres},null,8,["genres"])])]))}});var Ce=p(Re,[["__scopeId","data-v-6eea10f0"]]);async function Me(e){return new Promise(t=>{let a=document.createElement("canvas").getContext("2d");a.imageSmoothingEnabled=!0;let o=new Image;o.src=e,o.crossOrigin="",o.onload=()=>{a.drawImage(o,0,0,1,1),t(a.getImageData(0,0,1,1).data.slice(0,3))},console.log(o),console.log(a)})}const Ne={class:"production-company"},Se=["src","alt"],Ye={key:1},Ke=d({props:{company:null},setup(e){const t=e;return(a,o)=>(n(),l("div",Ne,[t.company.logo_path?(n(),l("img",{key:0,src:"https://image.tmdb.org/t/p/w300"+t.company.logo_path,alt:t.company.name},null,8,Se)):$("",!0),t.company.logo_path?(n(),l("p",Ye,m(t.company.name),1)):$("",!0)]))}});var Fe=p(Ke,[["__scopeId","data-v-40ed8a34"]]);const Be=e=>(b("data-v-f6160c5e"),e=e(),x(),e),Ge={class:"production-companies average-rgb--border"},Te=Be(()=>r("h2",null,"Production companies",-1)),Ve=d({props:{companies:null},setup(e){const t=e;return(a,o)=>(n(),l("div",Ge,[Te,(n(!0),l(I,null,L(t.companies,s=>(n(),h(Fe,{company:s,key:s.name},null,8,["company"]))),128))]))}});var Oe=p(Ve,[["__scopeId","data-v-f6160c5e"]]);const He={key:0,class:"movie-page--wrapper"},We={class:"movie-content"},je=P(" Loading... "),qe=["href"],ze=d({props:{movieId:null},setup(e){const t=e;let a=new B(Number(t.movieId));const o=f({}),s=f(null);async function i(){let c={};c=await a.fetchData(a.movieDetailsUrl),o.value=c,s.value=await _()}i();async function _(){const c=await Me(`https://image.tmdb.org/t/p/w300${o.value.poster_path}`);return`rgb(${c[0]},${c[1]},${c[2]})`}return console.log(a.movieDetailsUrl),console.log(o),V(s,()=>{document.querySelectorAll(".average-rgb--bg").forEach(c=>{c.style.background=s.value}),document.querySelectorAll(".average-rgb--border").forEach(c=>{c.style.borderColor=s.value})}),(c,v)=>o.value?(n(),l("div",He,[u(ve,{"backdrop-path":o.value.backdrop_path},null,8,["backdrop-path"]),r("div",We,[(n(),h(K,null,{fallback:y(()=>[je]),default:y(()=>[u(Ce,{movie:o.value},null,8,["movie"])]),_:1})),u(_e,{class:"cast-list--wrapper","movie-id":t.movieId},null,8,["movie-id"]),u(Oe,{companies:o.value.production_companies},null,8,["companies"]),o.value.homepage?(n(),l("a",{key:0,class:"homepage-link average-rgb--border",target:"_blank",href:o.value.homepage},"Homepage",8,qe)):$("",!0)])])):$("",!0)}});var Je=p(ze,[["__scopeId","data-v-a0b7c830"]]);const Qe={class:"movie-card"},Xe={class:"movie-card--content"},Ze=d({props:{movie:null},setup(e){return(t,a)=>{const o=k("router-link");return n(),l("div",Qe,[u(G,{class:"movie-card--image","poster-path":e.movie.poster_path,"alt-text":e.movie.original_title},null,8,["poster-path","alt-text"]),r("div",Xe,[r("span",null,m(e.movie.vote_average)+" - "+m(new Date(e.movie.release_date).getFullYear()),1)]),u(o,{to:"/movie/"+e.movie.id,class:"router-link"},null,8,["to"])])}}});var T=p(Ze,[["__scopeId","data-v-0ebc2d7e"]]);const et=e=>(b("data-v-54c1f378"),e=e(),x(),e),tt={class:"movies-list--content"},at=et(()=>r("button",{class:"view-more--btn"},"Ver mais",-1)),ot={class:"movies-list--wrapper"},st={class:"movies-list--overflow"},nt=d({props:{movies:null},setup(e){const t=e;return(a,o)=>(n(),l("div",tt,[at,r("div",ot,[r("div",st,[(n(!0),l(I,null,L(t.movies,s=>(n(),h(T,{class:F(`movie-card-scroll-snap movie-card-scroll-snap--${s.id}`),movie:s,key:Number(s.id)},null,8,["class","movie"]))),128))])])]))}});var E=p(nt,[["__scopeId","data-v-54c1f378"]]);const D=e=>(b("data-v-a117ea6a"),e=e(),x(),e),rt={class:"home--content"},it=D(()=>r("h2",null,"Now Playing",-1)),lt=D(()=>r("h2",null,"Popular",-1)),ct=D(()=>r("h2",null,"Upcoming",-1)),_t=D(()=>r("h2",null,"Top Rated",-1)),ut=d({setup(e){const t=new S,a=f({}),o=f({}),s=f({}),i=f({});async function _(U){let g={};g=await t.fetchData(t.nowPlayingMoviesUrl),a.value=g}async function c(U){let g={};g=await t.fetchData(t.popularMoviesUrl),o.value=g}async function v(U){let g={};g=await t.fetchData(t.upcomingMoviesUrl),s.value=g}async function w(U){let g={};g=await t.fetchData(t.topRatedMoviesUrl),console.log(g),i.value=g}return _(),c(),v(),w(),(U,g)=>(n(),l("div",rt,[it,a.value!==null?(n(),h(E,{key:0,movies:a.value.results},null,8,["movies"])):$("",!0),lt,o.value!==null?(n(),h(E,{key:1,movies:o.value.results},null,8,["movies"])):$("",!0),ct,s.value!==null?(n(),h(E,{key:2,movies:s.value.results},null,8,["movies"])):$("",!0),_t,i.value!==null?(n(),h(E,{key:3,movies:i.value.results},null,8,["movies"])):$("",!0)]))}});var dt=p(ut,[["__scopeId","data-v-a117ea6a"]]);const pt={},vt=e=>(b("data-v-34cbd95c"),e=e(),x(),e),mt={class:"header average-rgb--bg"},gt=vt(()=>r("h1",null,"The Movie Database",-1));function ht(e,t){const a=k("router-link");return n(),l("div",mt,[u(a,{to:"/",class:"link"},{default:y(()=>[gt]),_:1})])}var R=p(pt,[["render",ht],["__scopeId","data-v-34cbd95c"]]);const ft={},$t=e=>(b("data-v-b35e1aba"),e=e(),x(),e),yt={class:"footer average-rgb--bg"},bt=$t(()=>r("a",{class:"average-rgb--border",href:"https://github.com/UrakFerraz/movies-database-vue-ts-vite",target:"_blank"},"GitHub",-1)),xt=[bt];function It(e,t){return n(),l("div",yt,xt)}var C=p(ft,[["render",It],["__scopeId","data-v-b35e1aba"]]);const wt=[{id:28,name:"A\xE7\xE3o"},{id:12,name:"Aventura"},{id:16,name:"Anima\xE7\xE3o"},{id:35,name:"Com\xE9dia"},{id:80,name:"Crime"},{id:99,name:"Document\xE1rio"},{id:18,name:"Drama"},{id:10751,name:"Fam\xEDlia"},{id:14,name:"Fantasia"},{id:36,name:"Hist\xF3ria"},{id:27,name:"Terror"},{id:10402,name:"Musical"},{id:9648,name:"Mist\xE9rio"},{id:10749,name:"Romance"},{id:878,name:"Fic\xE7\xE3o Cient\xEDfica"},{id:10770,name:"Filme de TV"},{id:53,name:"Thriller"},{id:10752,name:"Guerra"},{id:37,name:"Western"}];const kt=e=>(b("data-v-06484237"),e=e(),x(),e),Lt={class:"movies-list--content"},Pt=kt(()=>r("button",{class:"view-more--btn"},"Ver mais",-1)),Ut={class:"movies-list--wrapper"},Et=d({props:{movies:null},setup(e){const t=e,a=M(),o=f("");function s(){const i=Number(a.params.genre);wt.forEach(_=>{_.id==i&&(o.value=_.name)})}return s(),(i,_)=>(n(),l("div",Lt,[r("h2",null,m(o.value),1),Pt,r("div",Ut,[(n(!0),l(I,null,L(t.movies,c=>(n(),h(T,{class:F(`movie-card-scroll-snap movie-card-scroll-snap--${c.id}`),movie:c,key:Number(c.id)},null,8,["class","movie"]))),128))])]))}});var At=p(Et,[["__scopeId","data-v-06484237"]]);const Dt={class:"pagination"},Rt=P("Anterior"),Ct=P("Pr\xF3ximo"),Mt=d({setup(e){N();const t=M();let a=1;const o=Number(t.params.genre),s=Number(t.params.pageNumber);function i(_){return a=s,console.log(a),console.log(typeof a),_==="prev"?a>1&&(a-=1):_==="next"&&(a+=1),`/${o}/${a}`}return(_,c)=>{const v=k("router-link");return n(),l("div",Dt,[u(v,{to:i("prev")},{default:y(()=>[Rt]),_:1},8,["to"]),u(v,{to:i("next")},{default:y(()=>[Ct]),_:1},8,["to"])])}}});var Y=p(Mt,[["__scopeId","data-v-4097dee8"]]);const Nt={class:"home--content"},St=d({props:{pageNumber:null,genre:null},setup(e){const t=e,a=new S,o=N();console.log(o),O((_,c)=>{console.log(_),console.log(c)});const s=f({});async function i(_,c){let v={};v=await a.fetchData(a.getGenreUrl(Number(_),c)),s.value=v}return i(t.pageNumber,t.genre),(_,c)=>(n(),l("div",Nt,[u(Y),s.value!==null?(n(),h(At,{key:0,movies:s.value.results},null,8,["movies"])):$("",!0),u(Y)]))}});var Yt=p(St,[["__scopeId","data-v-2eeafea8"]]);const Kt=[{path:"/",components:{default:dt,header:R,footer:C}},{name:"movie",path:"/movie/:movieId",components:{default:Je,header:R,footer:C},props:{default:!0,header:!1,footer:!1}},{name:"genre",path:"/:genre/:pageNumber",components:{default:Yt,header:R,footer:C},props:{default:!0,header:!1,footer:!1}}],Ft=H({history:W(),routes:Kt});j(Q).use(Ft).mount("#app");
